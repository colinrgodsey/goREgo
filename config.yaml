# Main server listening address
listen_addr: ":50051"

# Local cache configuration
local_cache_dir: "/tmp/gorego/cache"
local_cache_max_size_gb: 100
force_update_atime: false # If true, force update access time on cache hits. Necessary for storage mounts with "noatime".

# Global log level for structured logging.
log_level: "warn" # Options: debug, info, warn, error

# Backing cache (Tier 2) configuration
backing_cache:
  target: "" # Address of the backing cache server (e.g., "grpcs://some-remote.com:443")
  put_retry_count: 3 # Number of retries for remote put operations (default: 3)

# Telemetry configuration (metrics and tracing)
telemetry:
  metrics_addr: ":9090" # Prometheus metrics endpoint
  tracing_endpoint: "" # OpenTelemetry tracing endpoint (e.g., "otel.some-remote.com:4317")

# Execution engine configuration
execution:
  enabled: true # Enable the remote execution service
  concurrency: 0 # Number of concurrent workers (0 means use runtime.NumCPU())
  build_root: "/tmp/gorego/builds" # Root directory for execution builds
  queue_size: 1000 # Size of the execution request queue
  sandbox:
    enabled: false # Enable Linux sandboxing for execution
    binary_path: "/usr/bin/linux-sandbox" # Path to the linux-sandbox binary
    network_isolation: true # Isolate network inside the sandbox
    writable_paths: [] # Additional paths to make writable inside the sandbox (e.g., "/tmp")
    kill_delay: 5 # Seconds after timeout to send SIGKILL
    debug: false # Enable debug logging for the sandbox

# Cluster configuration (for distributed deployment)
# cluster:
#   join_peers: [] # List of peer addresses to join the cluster
#   gossip_port: 7946 # Port for gossip communication